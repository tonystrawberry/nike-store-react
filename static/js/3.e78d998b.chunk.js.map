{"version":3,"sources":["assets/nike_airforce-medium.jpg","assets/nike_airforce-large.jpg","components/ProductCard.tsx"],"names":["module","exports","ProductCard","props","wrapperRef","setWrapperRef","bind","handleClickOutside","document","addEventListener","this","window","updateDimensions","removeEventListener","node","event","contains","target","onUnselected","x","matchMedia","photo","querySelectorAll","pc","querySelector","matches","width","offsetWidth","style","height","ref","className","src","Logo","alt","href","NikeAirForceMedium","srcSet","NikeAirForceLarge","sizes","new","color","PureComponent","connect","dispatch","unselectProduct"],"mappings":"mIAAAA,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,iD,oLCkCrCC,E,kDACJ,WAAYC,GAA2B,IAAD,8BACpC,cAAMA,IAORC,gBARsC,EAGpC,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKC,mBAAqB,EAAKA,mBAAmBD,KAAxB,gBAC1B,EAAKF,WAAa,KALkB,E,gEAWpCI,SAASC,iBAAiB,YAAaC,KAAKH,oBAC5CI,OAAOF,iBAAiB,SAAUC,KAAKE,kBACvCF,KAAKE,qB,6CAILJ,SAASK,oBAAoB,YAAaH,KAAKH,oBAC/CI,OAAOE,oBAAoB,SAAUH,KAAKE,oB,oCAM9BE,GACZJ,KAAKN,WAAYU,I,yCAMAC,GACbL,KAAKN,aAAeM,KAAKN,WAAWY,SAASD,EAAME,SACrDP,KAAKP,MAAMe,iB,yCAKb,IAAIC,EAAIR,OAAOS,WAAW,uBACpBC,EAAQb,SAASc,iBAAiB,wBAClCC,EAAKf,SAASgB,cAAc,kCAElC,GAAIL,EAAEM,QAAQ,CAEZ,IAAIC,EAAQL,EAAM,GAAGM,YACrBJ,EAAGK,MAAMC,OAAT,UAAqBH,EAArB,WAEAH,EAAGK,MAAMC,OAAS,U,+BAKpB,OACE,yBAAKC,IAAKpB,KAAKL,cAAe0B,UAAU,2BACtC,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,iCACb,yBAAKC,IAAKC,IAAMC,IAAI,YAAYH,UAAU,uBAC1C,uBAAGI,KAAK,IAAIJ,UAAU,uBAAsB,uBAAGA,UAAU,sBACzD,yBAAKC,IAAKI,IACRC,OAAM,UAAKD,IAAL,kBAAiCE,IAAjC,SACNC,MAAM,kCACNL,IAAI,sBAAsBH,UAAU,yBAExC,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,sBACb,6BACE,wBAAIA,UAAU,OAAd,oBACCrB,KAAKP,MAAMqC,IAAM,0BAAMT,UAAU,OAAhB,OAAmC,MAEvD,wBAAIA,UAAU,SAAd,eAEF,yBAAKA,UAAU,6BACb,uBAAGA,UAAU,sBAAb,6JAEF,yBAAKA,UAAU,iCACb,wBAAIA,UAAU,uBAAd,SACA,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,sBAAsBU,MAAM,SAC5C,0BAAMV,UAAU,sBAAsBU,MAAM,QAC5C,0BAAMV,UAAU,sBAAsBU,MAAM,UAC5C,0BAAMV,UAAU,sBAAsBU,MAAM,WAC5C,0BAAMV,UAAU,sBAAsBU,MAAM,YAGhD,yBAAKV,UAAU,gCACb,wBAAIA,UAAU,uBAAd,QACA,yBAAKA,UAAU,uBACb,0BAAMA,UAAU,sBAAhB,KACA,0BAAMA,UAAU,sBAAhB,KACA,0BAAMA,UAAU,sBAAhB,KACA,0BAAMA,UAAU,sBAAhB,MACA,0BAAMA,UAAU,sBAAhB,QAGJ,yBAAKA,UAAU,2BACb,uBAAGI,KAAK,IAAIJ,UAAU,qBAAoB,uBAAGA,UAAU,yBAAvD,eACA,yBAAKA,UAAU,uBACb,uBAAGA,UAAU,oBACb,+C,GAnGUW,iBA6GXC,uBAnIS,WACtB,MAAO,MAKkB,SAACC,GAC1B,MAAO,CACL1B,aAAc,kBAAM0B,EAASC,mBA2HlBF,CAA6CzC","file":"static/js/3.e78d998b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nike_airforce-medium.1768a94b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nike_airforce-large.118961ea.jpg\";","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { unselectProduct } from '../redux/actions';\nimport { Dispatch } from 'redux';\n\nimport './ProductOverview.css';\nimport './ProductCard.css';\nimport Logo from '../assets/nike_logo.svg';\nimport NikeAirForceMedium from '../assets/nike_airforce-medium.jpg';\nimport NikeAirForceLarge from '../assets/nike_airforce-large.jpg';\n\n\nconst mapStateToProps = () => {\n  return {\n\n  }\n}\n\nconst mapDispatchToProps = (dispatch : Dispatch ) => {\n  return {\n    onUnselected: () => dispatch(unselectProduct())\n  }\n}\n\ninterface IProductCardProps {\n  new: boolean,\n  onUnselected: {(): void}\n}\n\ninterface IProductCardState {\n  \n}\n\n\nclass ProductCard extends PureComponent<IProductCardProps, IProductCardState> {\n  constructor(props : IProductCardProps){\n    super(props);\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n    this.wrapperRef = null;\n  }\n\n  wrapperRef: HTMLDivElement | null;\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n    window.addEventListener('resize', this.updateDimensions);\n    this.updateDimensions();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n    window.removeEventListener('resize', this.updateDimensions);\n  }\n\n  /**\n   * Set the wrapper ref\n   */\n  setWrapperRef(node : HTMLDivElement | null) : void{\n    this.wrapperRef= node;\n  }\n\n  /**\n   * Alert if clicked on outside of element\n   */\n  handleClickOutside(event : Event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target as Node)) {\n      this.props.onUnselected();\n    }\n  }\n\n  updateDimensions() {\n    let x = window.matchMedia(\"(max-width: 1000px)\");\n    const photo = document.querySelectorAll('.product-card__photo') as NodeListOf<HTMLElement>;\n    const pc = document.querySelector('.product-card__photo-container') as HTMLElement;\n  \n    if (x.matches){\n      // shoeBackgroundの新しいheight計算\n      let width = photo[0].offsetWidth; // offsetHeight = elementのheight + elementのpadding + elementのborder\n      pc.style.height = `${width}px`;\n    } else {\n      pc.style.height = '475px';\n    }\n  }\n\n  render() {\n    return (\n      <div ref={this.setWrapperRef} className=\"product-card__container\">\n        <div className=\"product-card__card\">\n          <div className=\"product-card__photo-container\">\n            <img src={Logo} alt=\"Nike Logo\" className=\"product-card__logo\" />\n            <a href=\"/\" className=\"product-card__share\"><i className=\"fas fa-share-alt\"></i></a>\n            <img src={NikeAirForceMedium} \n              srcSet={`${NikeAirForceMedium} 432w, ${NikeAirForceLarge} 864w`} \n              sizes='(max-width: 500px) 432px, 864px'\n              alt=\"Product Photography\" className=\"product-card__photo\"/>\n          </div>\n          <div className=\"product-card__info\">\n            <div className=\"product-card__name\">\n              <div>\n                <h1 className=\"big\">Nike Air Force 1</h1>\n                {this.props.new ? <span className=\"new\">new</span> : null}\n              </div>\n              <h3 className=\"small\">Men's Shoe</h3>\n            </div>\n            <div className=\"product-card__description\">\n              <p className=\"product-card__text\">The legend lives on in the Nike Air Force 1, which stays true to its roots with iconic AF1 style and Nike Air for all-day comfort and long-lasting wear.</p>\n            </div>\n            <div className=\"product-card__color-container\">\n              <h3 className=\"product-card__title\">Color</h3>\n              <div className=\"product-card__colors\">\n                <span className=\"product-card__color\" color=\"blue\"></span>\n                <span className=\"product-card__color\" color=\"red\"></span>\n                <span className=\"product-card__color\" color=\"green\"></span>\n                <span className=\"product-card__color\" color=\"orange\"></span>\n                <span className=\"product-card__color\" color=\"black\"></span>\n              </div>\n            </div>\n            <div className=\"product-card__size-container\">\n              <h3 className=\"product-card__title\">size</h3>\n              <div className=\"product-card__sizes\">\n                <span className=\"product-card__size\">7</span>\n                <span className=\"product-card__size\">8</span>\n                <span className=\"product-card__size\">9</span>\n                <span className=\"product-card__size\">10</span>\n                <span className=\"product-card__size\">11</span>\n              </div>\n            </div>\n            <div className=\"product-card__buy-price\">\n              <a href=\"/\" className=\"product-card__buy\"><i className=\"fas fa-shopping-cart\"></i>Add to cart</a>\n              <div className=\"product-card__price\">\n                <i className=\"fas fa-yen-sign\"></i>\n                <h1>21,000</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCard);"],"sourceRoot":""}